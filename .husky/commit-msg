echo ""
echo "ğŸ” Validating commit message with commitlint..."
echo ""

if ! OUTPUT=$(npx --no -- commitlint --edit "$1" 2>&1); then
  echo "$OUTPUT"
  echo ""
  echo "âŒ Commit rejected: the message does not follow the conventional commit format!"
  echo ""
  echo "ğŸ“Œ Expected format: <type>: <short description>"
  echo ""
  echo "âœ… Examples:"
  echo "   feat: add login button"
  echo "   fix: fix validation error"
  echo "   chore: update dependencies"
  echo ""
  echo "ğŸ“š Reference: https://www.conventionalcommits.org/en/v1.0.0/"
  echo ""
  exit 1
else
  echo "$OUTPUT"
fi